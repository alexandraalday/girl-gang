
<div ng-controller="MusicController as music">

<div class="container" id="music-container">
  <div class="row">

  <div class="jumbotron" id="music-jumbotron">
    <h1>Music</h1>
    <h4>Badass Songs for Badass Babes</h4>

<!--     Add New Track Section -->
    <div class="col-lg-10">
      <button class="btn btn-default" type="submit" ng-click="music.toggleNewDisplay()">Add A New Track</button>
      <div ng-if="music.newDisplay">
        <form ng-submit="music.addMusic()">
          <input type="text" placeholder="link" ng-model="music.link"><br/>
          <input type="text" placeholder="tag" ng-model="music.tag"><br/>
          <input type="text" placeholder="author" ng-model="music.author"><br/>
          <input class="ng-hide" type="text" placeholder="embed" ng-model="music.embed" value=''><br/>
          <button class="btn btn-default" type="submit">Add Song</button>
        </form>
      </div>
    </div>
    </div>

  <div>
    <!--    Modal -->
    <div ng-if="music.modal" id="musicmodal">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <span id="closebutton" class="text-top"><button class="btn btn-default" ng-click="music.toggleModal()">X</button></span>
          </div>
          <div class="modal-body">
    
           <iframe width="300" height="380" frameborder="0" allowtransparency="true" ng-src="{{music.currentMusic.embed}}"></iframe><br/>
            <p> Tag: {{music.currentMusic.tag}}</p>
            <p> Author: {{music.currentMusic.author}}</p>

            <!-- button to show the edit form -->
            <button class="btn btn-primary" ng-click="music.toggleEdit()">Edit</button>

      <!--   Delete Button -->
          <button class="btn btn-default" ng-click="music.deleteMusic(music.currentMusic._id)">Delete</button>

    <!--     Edit Form -->
        <div class="form-group" ng-if="music.editDisplay">
          <form id="musicForm" ng-submit="music.updateMusic(music.currentMusic._id)">
            <input type="text" placeholder="{{music.currentMusic.link}}" ng-model="music.editedMusic.link"><br/>
            <input type="text" placeholder="{{music.currentMusic.tag}}" ng-model="music.editedMusic.tag"><br/>
            <input type="text" placeholder="{{music.currentMusic.author}}" ng-model="music.editedMusic.author"><br/>
            <button type="submit" ng-click="music.updateMusic(music.currentMusic._id)">Confirm</button>
            <button class="" ng-click="music.currentMusic.name = null">Cancel</button>
          </form>
        </div>
      </div>
    </div>
      </div>
    </div>
</div>

<!--     List of all Tracks with Modal Button for More Info-->
<div class="row" id="display">
    <ul>
      <li ng-repeat="song in music.allMusic" ng-click="music.setCurrentMusic(song._id)">
        <div class="col-md-4" id="music-item">
          <iframe width="300" height="80" frameborder="0" allowtransparency="true" ng-src="{{song.embed}}"></iframe>
          <div id="action-icons">
            <button class="btn btn-default" ng-click="music.toggleModal()"><span class="glyphicon glyphicon-pencil"></span></button>
            <button class="btn btn-default" ng-click="music.likeMusic(song._id)"><span class="glyphicon glyphicon-heart"><b> {{song.likes}}</b></span></button>
            <button class="btn btn-default" ng-click="music.commentMusic(song._id)"><span class="glyphicon glyphicon-comment"><b>{{song.comments}}</b></span></button><br/> 
          </div>
        </div>
        </li>
    </ul>
  </div>




 



</div><!-- end row -->
</div><!-- end container -->
